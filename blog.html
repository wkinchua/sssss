<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News & Promotions - Yuan Fong Restaurant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>

<body>
    <header>
        <div class="logo-container">
            <img src="YuanFong.png" alt="Yuan Fong Restaurant Logo" class="logo" style="width: 125px; height: 100px;">
        </div>
        <nav id="navbar">
            <div class="menu-toggle" id="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="menu.html">Menu</a></li>
                <li><a href="blog.html" class="active">News & Promotions</a></li>
                <li><a href="contact.html">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <section class="page-banner">
        <div class="container">
            <h1>News & Promotions</h1>
        </div>
    </section>

    <section class="blog">
        <div class="container">
            <div class="blog-grid">
                <div class="blog-post">
                    <div class="blog-image">
                        <img src="Rice/R3.jpeg" alt="Yuan Fong New Menu Items">
                    </div>
                    <div class="blog-content">
                        <h3>New Menu Items for April</h3>
                        <p class="blog-date">April 25, 2025</p>
                        <p style="text-align: justify;">We are excited to announce our new menu items for April! Try our
                            delicious signature sauce fragrant eggplant rice. Rich sauce and freshly brewed fried
                            eggplant, now available at Yuan Fong Restaurant.</p>
                        <!-- <a href="#" class="btn">Read More</a> -->
                    </div>
                </div>

                <div class="blog-post">
                    <div class="blog-image">
                        <img src="Bread/B3.jpeg" alt="Yuan Fong Breakfast Set">
                    </div>
                    <div class="blog-content">
                        <h3>Breakfast Set Promotion</h3>
                        <p class="blog-date">April 15, 2025</p>
                        <p style="text-align: justify;">Start your day right with our new breakfast set promotion! Get a
                            Croissant, Half
                            Boiled Eggs, and your choice of hot drink for only RM 7.90. Available daily from 8:00 AM to
                            11:00 AM.</p>
                        <!-- <a href="#" class="btn">Read More</a> -->
                    </div>
                </div>

                <div class="blog-post">
                    <div class="blog-image">
                        <img src="Noodles/N1.jpeg" alt="Yuan Fong Weekend Special">
                    </div>
                    <div class="blog-content">
                        <h3>Lunch Special</h3>
                        <p class="blog-date">April 5, 2025</p>
                        <p style="text-align: justify;">Bring your family and enjoy our lunch specials! Enjoy a
                            selection of pork slices made with a tender shell, crispy black wood ear and special sauces.
                            Available from Tuesday
                            to Sunday.</p>
                        <!-- <a href="#" class="btn">Read More</a> -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="YuanFong.png" alt="Yuan Fong Restaurant Logo" class="footer-logo-img"
                        style="width: 250px; height: 200px; margin-left: -40px;">
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="menu.html">Menu</a></li>
                        <li><a href="blog.html">News & Promotions</a></li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> No.24, Jalan SS4D/14, Ss 4,
                        <br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 47301 Petaling Jaya, Selangor
                    </p>
                    <p><i class="fas fa-phone"></i> +60 12-515 0518</p>
                    <p><i class="fas fa-envelope"></i> yuanfongss4@gmail.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Yuan Fong Restaurant. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function () {
            try {
                const blogGrid = document.querySelector('.blog-grid');
                const hardcodedPosts = blogGrid.innerHTML; // Preserve existing posts

                const response = await fetch('http://localhost:5000/api/promotions');
                const promotions = await response.json();

                if (promotions.length > 0) {
                    let dynamicContent = '';
                    promotions.forEach(promo => {
                        dynamicContent += `
                  <div class="blog-post">
                    <div class="blog-image">
                      <img src="${promo.imageUrl || 'images/default-promo.jpg'}" alt="${promo.title}">
                    </div>
                    <div class="blog-content">
                      <h3>${promo.title}</h3>
                      <p class="blog-date">${new Date(promo.date).toLocaleDateString()}</p>
                      <p style="text-align: justify;">${promo.description}</p>
                    </div>
                  </div>
                `;
                    });
                    blogGrid.innerHTML = hardcodedPosts + dynamicContent;
                }
            } catch (err) {
                console.error('Failed to load promotions:', err);
                // Hardcoded posts remain visible
            }
        });
    </script>
</body>

</html>